@use '../_mixins' as *;

.home-container {
  max-width: 1600px;
  margin: 0 auto;
  padding: 16px 40px;
  background: transparent;
  min-height: calc(100vh - 64px);

  @include large-screen {
    padding: 24px 64px;
  }
}

.loading-container {
  @include flex-column-center;
  justify-content: center;
  min-height: 500px;
  gap: 32px;

  p {
    font-size: 1rem;
    color: var(--on-surface-muted);
    letter-spacing: var(--tracking-wide);
  }
}

.header-loading {
  @include loading-container(80px);
  margin-bottom: 1rem;
}

.error-card {
  margin: 32px 0;
  background: var(--error-bg);
  border: 1px solid rgba(157, 68, 68, 0.2);
  border-radius: var(--radius-lg);

  mat-card-content {
    @include flex-align-center;
    gap: 20px;
    color: var(--error);
    padding: 24px;

    mat-icon {
      @include icon-size(32px);
    }
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// SECTION TITLES - Style premium
// ═══════════════════════════════════════════════════════════════════════════════

.section-title {
  @include flex-align-center;
  gap: 1rem;
  margin: 0 0 2.5rem;
  font-size: 1.5rem;
  font-weight: var(--font-weight-medium);
  color: var(--primary-color);
  letter-spacing: var(--tracking-normal);

  mat-icon {
    @include icon-size(1.75rem);
    color: var(--gold-600);
  }
}

.section-header {
  margin-bottom: 2.5rem;

  .section-subtitle {
    margin: 0.5rem 0 0 2.75rem;
    font-size: 0.9375rem;
    color: var(--on-surface-variant);
    letter-spacing: var(--tracking-wide);
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// NAVIGATION TABS - Style Haute Couture
// ═══════════════════════════════════════════════════════════════════════════════

.content-tabs {
  ::ng-deep {
    .mat-mdc-tab-link-container {
      background: var(--surface-card);
      border-radius: var(--radius-lg);
      box-shadow:
        var(--shadow-sm),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
      padding: 6px;
      border: 1px solid var(--outline-subtle);
    }

    .mat-mdc-tab-links {
      gap: 6px;
    }

    .mat-mdc-tab-link {
      min-width: 140px;
      height: 44px;
      border-radius: var(--radius-md);
      transition: all var(--transition-normal);
      color: var(--on-surface-variant);
      font-weight: var(--font-weight-medium);
      font-size: 0.8125rem;
      letter-spacing: var(--tracking-wide);
      position: relative;
      border: 1px solid transparent;

      @media (min-width: 1600px) {
        min-width: 160px;
        height: 48px;
      }

      // Tab active - style premium navy
      &.mdc-tab--active {
        background: linear-gradient(135deg, var(--navy-950) 0%, var(--navy-900) 100%);
        color: #ffffff !important;
        border-color: rgba(212, 168, 74, 0.2);
        box-shadow:
          var(--shadow-lg),
          inset 0 1px 0 rgba(255, 255, 255, 0.08);

        // Force white text color on all children
        .mdc-tab__text-label,
        .mat-mdc-tab-link .mdc-tab__text-label {
          color: #ffffff !important;
        }

        // Ligne dorée top signature
        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 20%;
          right: 20%;
          height: 2px;
          background: linear-gradient(90deg, transparent 0%, var(--gold-400) 50%, transparent 100%);
          border-radius: 0 0 2px 2px;
        }

        .tab-icon {
          color: var(--gold-300) !important;
        }
      }

      // Hover state
      &:hover:not(.mdc-tab--active) {
        background: var(--ivory-200);
        border-color: var(--outline);
        transform: translateY(-2px);
      }
    }

    .mdc-tab__content {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    // Remove default indicator
    .mdc-tab-indicator {
      display: none;
    }
  }
}

.tab-icon {
  @include icon-size(1.25rem);
  color: var(--on-surface-muted);
  transition: color var(--transition-normal);
}

mat-tab-nav-panel {
  background: var(--surface-card);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--outline-subtle);
  overflow: hidden;
}

// ═══════════════════════════════════════════════════════════════════════════════
// UTILITIES
// ═══════════════════════════════════════════════════════════════════════════════

.positive {
  color: var(--success);
}

.negative {
  color: var(--error);
}

// Grid layouts
@media (max-width: 1280px) {
  .breakdown-grid {
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .performance-grid {
    grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  }

  .assets-grid {
    grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
  }
}

@media (min-width: 1600px) {
  .breakdown-grid {
    grid-template-columns: repeat(5, 1fr);
  }

  .performance-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  .assets-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
